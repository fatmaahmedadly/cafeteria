(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[36909],{762587:e=>{function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,s,r){n=n||"&",s=s||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(n);var i=1e3;r&&"number"==typeof r.maxKeys&&(i=r.maxKeys);var l=e.length;i>0&&l>i&&(l=i);for(var c=0;c<l;++c){var u,h,d,p,f=e[c].replace(o,"%20"),_=f.indexOf(s);_>=0?(u=f.substr(0,_),h=f.substr(_+1)):(u=f,h=""),d=decodeURIComponent(u),p=decodeURIComponent(h),t(a,d)?Array.isArray(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a}},712361:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,s,r){return n=n||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var a=encodeURIComponent(t(r))+s;return Array.isArray(e[r])?e[r].map((function(e){return a+encodeURIComponent(t(e))})).join(n):a+encodeURIComponent(t(e[r]))})).join(n):r?encodeURIComponent(t(r))+s+encodeURIComponent(t(e)):""}},817673:(e,t,n)=>{t.decode=t.parse=n(762587),t.encode=t.stringify=n(712361)},52511:function(e,t,n){var s;e=n.nmd(e),function(r){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n.g&&n.g;a.global!==a&&a.window!==a&&a.self;var o,i=2147483647,l=36,c=/^xn--/,u=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function _(e){throw RangeError(d[e])}function m(e,t){for(var n=e.length,s=[];n--;)s[n]=t(e[n]);return s}function g(e,t){var n=e.split("@"),s="";return n.length>1&&(s=n[0]+"@",e=n[1]),s+m((e=e.replace(h,".")).split("."),t).join(".")}function v(e){for(var t,n,s=[],r=0,a=e.length;r<a;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<a?56320==(64512&(n=e.charCodeAt(r++)))?s.push(((1023&t)<<10)+(1023&n)+65536):(s.push(t),r--):s.push(t);return s}function y(e){return m(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join("")}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function C(e,t,n){var s=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;s+=l)e=p(e/35);return p(s+36*e/(e+38))}function b(e){var t,n,s,r,a,o,c,u,h,d,f,m=[],g=e.length,v=0,E=128,b=72;for((n=e.lastIndexOf("-"))<0&&(n=0),s=0;s<n;++s)e.charCodeAt(s)>=128&&_("not-basic"),m.push(e.charCodeAt(s));for(r=n>0?n+1:0;r<g;){for(a=v,o=1,c=l;r>=g&&_("invalid-input"),((u=(f=e.charCodeAt(r++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:l)>=l||u>p((i-v)/o))&&_("overflow"),v+=u*o,!(u<(h=c<=b?1:c>=b+26?26:c-b));c+=l)o>p(i/(d=l-h))&&_("overflow"),o*=d;b=C(v-a,t=m.length+1,0==a),p(v/t)>i-E&&_("overflow"),E+=p(v/t),v%=t,m.splice(v++,0,E)}return y(m)}function w(e){var t,n,s,r,a,o,c,u,h,d,m,g,y,b,w,O=[];for(g=(e=v(e)).length,t=128,n=0,a=72,o=0;o<g;++o)(m=e[o])<128&&O.push(f(m));for(s=r=O.length,r&&O.push("-");s<g;){for(c=i,o=0;o<g;++o)(m=e[o])>=t&&m<c&&(c=m);for(c-t>p((i-n)/(y=s+1))&&_("overflow"),n+=(c-t)*y,t=c,o=0;o<g;++o)if((m=e[o])<t&&++n>i&&_("overflow"),m==t){for(u=n,h=l;!(u<(d=h<=a?1:h>=a+26?26:h-a));h+=l)w=u-d,b=l-d,O.push(f(E(d+w%b,0))),u=p(w/b);O.push(f(E(u,0))),a=C(n,y,s==r),n=0,++s}++n,++t}return O.join("")}o={version:"1.3.2",ucs2:{decode:v,encode:y},decode:b,encode:w,toASCII:function(e){return g(e,(function(e){return u.test(e)?"xn--"+w(e):e}))},toUnicode:function(e){return g(e,(function(e){return c.test(e)?b(e.slice(4).toLowerCase()):e}))}},void 0===(s=function(){return o}.call(t,n,t,e))||(e.exports=s)}()},608575:(e,t,n)=>{var s=n(52511),r=n(762502);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){r.isString(e)&&(e=y(e));return e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var o=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),h=["%","/","?",";","#"].concat(u),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(817673);function y(e,t,n){if(e&&r.isObject(e)&&e instanceof a)return e;var s=new a;return s.parse(e,t,n),s}a.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),i=-1!==a&&a<e.indexOf("#")?"?":"#",c=e.split(i);c[0]=c[0].replace(/\\/g,"/");var y=e=c.join(i);if(y=y.trim(),!n&&1===e.split("#").length){var E=l.exec(y);if(E)return this.path=y,this.href=y,this.pathname=E[1],E[2]?(this.search=E[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var C=o.exec(y);if(C){var b=(C=C[0]).toLowerCase();this.protocol=b,y=y.substr(C.length)}if(n||C||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===y.substr(0,2);!w||C&&m[C]||(y=y.substr(2),this.slashes=!0)}if(!m[C]&&(w||C&&!g[C])){for(var O,A,T=-1,I=0;I<d.length;I++){-1!==(S=y.indexOf(d[I]))&&(-1===T||S<T)&&(T=S)}-1!==(A=-1===T?y.lastIndexOf("@"):y.lastIndexOf("@",T))&&(O=y.slice(0,A),y=y.slice(A+1),this.auth=decodeURIComponent(O)),T=-1;for(I=0;I<h.length;I++){var S;-1!==(S=y.indexOf(h[I]))&&(-1===T||S<T)&&(T=S)}-1===T&&(T=y.length),this.host=y.slice(0,T),y=y.slice(T),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var P=this.hostname.split(/\./),R=(I=0,P.length);I<R;I++){var k=P[I];if(k&&!k.match(p)){for(var x="",D=0,U=k.length;D<U;D++)k.charCodeAt(D)>127?x+="x":x+=k[D];if(!x.match(p)){var M=P.slice(0,I),j=P.slice(I+1),Z=k.match(f);Z&&(M.push(Z[1]),j.unshift(Z[2])),j.length&&(y="/"+j.join(".")+y),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=s.toASCII(this.hostname));var L=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+L,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!_[b])for(I=0,R=u.length;I<R;I++){var H=u[I];if(-1!==y.indexOf(H)){var q=encodeURIComponent(H);q===H&&(q=escape(H)),y=y.split(H).join(q)}}var F=y.indexOf("#");-1!==F&&(this.hash=y.substr(F),y=y.slice(0,F));var $=y.indexOf("?");if(-1!==$?(this.search=y.substr($),this.query=y.substr($+1),t&&(this.query=v.parse(this.query)),y=y.slice(0,$)):t&&(this.search="",this.query={}),y&&(this.pathname=y),g[b]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){L=this.pathname||"";var B=this.search||"";this.path=L+B}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",s=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=v.stringify(this.query));var i=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),s&&"#"!==s.charAt(0)&&(s="#"+s),i&&"?"!==i.charAt(0)&&(i="?"+i),t+a+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(i=i.replace("#","%23"))+s},a.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(r.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,s=Object.keys(this),o=0;o<s.length;o++){var i=s[o];n[i]=this[i]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var p=h[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var _=n.pathname||"",v=n.search||"";n.path=_+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),E=e.host||e.pathname&&"/"===e.pathname.charAt(0),C=E||y||n.host&&e.pathname,b=C,w=n.pathname&&n.pathname.split("/")||[],O=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(O&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),C=C&&(""===f[0]||""===w[0])),E)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=f;else if(f.length)w||(w=[]),w.pop(),w=w.concat(f),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(O)n.hostname=n.host=w.shift(),(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift());return n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var A=w.slice(-1)[0],T=(n.host||e.host||w.length>1)&&("."===A||".."===A)||""===A,I=0,S=w.length;S>=0;S--)"."===(A=w[S])?w.splice(S,1):".."===A?(w.splice(S,1),I++):I&&(w.splice(S,1),I--);if(!C&&!b)for(;I--;I)w.unshift("..");!C||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),T&&"/"!==w.join("/").substr(-1)&&w.push("");var N,P=""===w[0]||w[0]&&"/"===w[0].charAt(0);O&&(n.hostname=n.host=P?"":w.length?w.shift():"",(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift()));return(C=C||n.host&&w.length)&&!P&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},762502:e=>{e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},397066:(e,t,n)=>{n.d(t,{b:()=>u,h:()=>h});var s=n(768559),r=n(246133),a=n(966113),o=n(582998),i=n(619937),l=n(48714),c=n(366284);const u=({href:e,pinId:t,pin:n,location:r,auxData:u},h)=>{if(n&&n.is_promoted){const m=(0,s.Z)(n,r),g=(0,l.nS)({url:e,pinId:t,csrId:null,clientTrackingParams:m,auxData:u}),v=o.K.fromGlobalContext();if((0,c.G6)(v.userAgent.browserName)){var d;const{group:s}=v.experiments.checkExperiment("m10n_event_conversion_measurement");let r=null!==(d=v.userAgent)&&void 0!==d&&d.browserVersion?v.userAgent.browserVersion:"0.0";if(r=parseFloat(r.split(".")[0]+"."+r.split(".")[1]),void 0!==n.campaign_id&&r>=14.1&&["enabled_safari"].includes(s)){var p;const s=n.attribution_source_id?((e,t,n)=>{const s=document.createElement("a");return s.setAttribute("href",t),s.setAttribute("target","_blank"),s.setAttribute("rel","noopener nofollow noreferrer"),s.style.cursor="pointer",s.style.display="block",s.setAttribute(i.$N.ATTRIBUTION_SOURCE_ID,e),s.setAttribute(i.$N.ATTRIBUTE_DESTINATION,n),s.setAttribute(i.$N.ATTRIBUTE_ON,n),s.click(),e})(n.attribution_source_id,g,e):((e,t,n)=>{const s=document.createElement("a");s.setAttribute("href",t),s.setAttribute("target","_blank"),s.setAttribute("rel","noopener nofollow noreferrer"),s.style.cursor="pointer",s.style.display="block";const r=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return s.setAttribute(i.$N.ATTRIBUTION_SOURCE_ID,r),s.setAttribute(i.$N.ATTRIBUTE_DESTINATION,n),s.setAttribute(i.$N.ATTRIBUTE_ON,n),s.click(),r})(null!==(p=n.pin_promotion_id)&&void 0!==p?p:0,g,e);return h({event_type:101,clientTrackingParams:m,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_pcm:!0,attribution_source_id:s,page_url:e}}),!0}}else if((0,c.i7)(v.userAgent.browserName)){var f;const{group:s}=v.experiments.checkExperiment("m10n_event_conversion_measurement_chrome"),r=null!==(f=v.userAgent)&&void 0!==f&&f.browserVersion?parseInt(v.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==n.attribution_source_id&&r>=101&&["enabled"].includes(s)){var _;const s=((e,t,n)=>{const s=new URL(`${a.Z.settings.CANONICAL_MAIN_URL}/attribution_source/`);s.searchParams.set(i.NR.ATTRIBUTION_SOURCE_EVENT_ID,e),s.searchParams.set(i.NR.ATTRIBUTION_DESTINATION,n),s.searchParams.set(i.NR.ATTRIBUTION_EXPIRY,""+i.uV);const r=document.createElement("a");return r.setAttribute("href",t),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block",r.setAttribute(i.NR.ATTRIBUTION_SOURCE,s.toString()),r.click(),e})(null!==(_=n.attribution_source_id)&&void 0!==_?_:"0",g,e);return h({event_type:101,clientTrackingParams:m,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:n.pin_promotion_id||"",click_measurement_campaign_id:n.campaign_id||"",is_arapi:!0,attribution_source_id:s,page_url:e}}),!0}}}return!1},h=({href:e,pinId:t,pin:n,location:a,auxData:o},i)=>{if("undefined"!=typeof window&&window.Windows)(0,r.Z)({url:e,pinId:t,pin:n,location:a,auxData:o});else{if(u({href:e,pinId:t,pin:n,location:a,auxData:o},i))return;(0,l.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:(0,s.Z)(n,a),auxData:o})}}},246133:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(768559),r=n(102500),a=n(48714);function o({url:e,pinId:t,pin:n,location:o,auxData:i}){const l={check_only:!0,client_tracking_params:n?(0,s.Z)(n,o):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(i)};(0,r.Z)(l).callGet().then((r=>{if(r&&r.resource_response&&!r.resource_response.error){const{resource_response:e}=r,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){const r=(0,s.Z)(n,o);(0,a.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:r,auxData:i})}else(0,a.Gj)({url:e,pinId:t})}))}},966476:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(667294);const r=()=>{const[e,t]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{t(!0)}),[]),e}},48714:(e,t,n)=>{n.d(t,{nS:()=>C,iw:()=>w,gV:()=>y,G3:()=>O,lI:()=>A,Gj:()=>b,Jd:()=>v,$3:()=>E});var s=n(231486),r=n(56641),a=n(768559),o=n(250059);const i=e=>"string"!=typeof e&&e?e.state:null;var l=n(643913),c=n(547239),u=n(508847),h=n(102500),d=n(246133),p=n(579164),f=n(307640),_=n(397066),m=n(623568),g=n(226198);const v=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},y=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),E=({location:e,pin:t,surface:n})=>!(0,m.jL)(t)&&(({location:e,pinId:t,surface:n})=>{const s=Boolean(n),r=f.ZF.includes(n),a=e.pathname.includes(t);return s&&!r||a})({location:e,pinId:t.id,surface:n}),C=e=>{const t=Math.round(1e3*Math.random())+"",n=Math.round(1e3*Math.random())+"";s.t8((0,g.GS)(t),n);const r=`${t}-${n}`,{queryParams:a,url:o}=e;let i={token:r,url:o};if(!a){const{pinId:t,csrId:n,clientTrackingParams:s,auxData:r}=e;i={...i,pin:null!=t?t:void 0,csr:n&&!t?n:void 0,client_tracking_params:s,aux_data:r?JSON.stringify(r):void 0}}a&&(i={...i,...a});return`/offsite/?${(0,l.Z)(i)}`},b=e=>{(0,r.Z)(C(e),!0)},w=async({isMounted:e,pin:t,location:n,spamCheckCallback:s,href:r})=>{const o=await(0,h.Z)({check_only:!0,client_tracking_params:(0,a.Z)(t,n),pin_id:null==t?void 0:t.id,url:r}).callGet({showError:!1});if(!o.resource_response.error&&e){const e=o.resource_response.data||{},{message:t,redirect_status:n,url:r}=e;s({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:r})}},O=({event:e,onHistoryChange:t,href:n,history:s,target:a})=>{const l=(0,o.Z)(n),h=i(n),d=(0,c.Z)(l);d===p.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===a?(0,r.Z)(l,"blank"===a):s&&d===p.Z.SAME_ORIGIN&&(s.push((0,u.Z)({url:l}),null!=h?h:{}),t&&t({event:e}))},A=({href:e,pinId:t,pin:n,location:s,auxData:r,spamCheck:o,queryParams:i},l,c)=>{"undefined"!=typeof window&&window.Windows?(0,d.Z)({url:e,pinId:t,pin:n,location:s,auxData:r}):n?(({spamCheck:e,auxData:t,location:n,pin:s,pinId:r,href:o},i,l)=>{if(null!=e&&e.blocked)null==l||l(e);else{if((0,_.b)({href:o,pinId:r,pin:s,location:n,auxData:t},i))return;b({url:o,pinId:r,csrId:null,clientTrackingParams:(0,a.Z)(s,n),auxData:t})}})({spamCheck:o,auxData:r,location:s,pin:n,pinId:t,href:e},l,c):b({url:e,pinId:t,queryParams:i})}},102500:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(6637);function r(e){return s.ZP.create("ApiResource",{url:"/v3/offsite/",data:e})}},287072:(e,t,n)=>{n.d(t,{Z:()=>u,p:()=>h});var s=n(667294),r=n(250059),a=n(149230),o=n(407043),i=n(643074),l=n(48714),c=n(925927);function u(e){var t;const{externalData:n,href:u,onHistoryChange:h,target:d}=e,{logContextEvent:p}=(0,o.v)(),[f,_]=(0,s.useState)(null),[m,g]=(0,s.useState)(!1),v=(0,c.k6)(),y=(0,c.TH)(),E=(0,a.Z)({url:(0,r.Z)(u)}),{showWarning:C}=null!==(t=(0,i.s)())&&void 0!==t?t:{};return(0,s.useEffect)((()=>(g(!0),()=>{g(!1)})),[]),(0,s.useEffect)((()=>{E&&null!=n&&n.pin&&null===f&&(0,l.$3)({location:y,pin:n.pin,surface:n.surface})&&(0,l.iw)({isMounted:m,pin:n.pin,location:y,spamCheckCallback:e=>_(e),href:(0,r.Z)(u)})}),[n,u,E,m,y,f]),({event:e})=>{var t;(0,l.gV)({isOffsiteUrl:E,event:e})||(e.preventDefault(),u&&(E||null!=n&&n.dangerouslyForceOffsiteUrl?(0,l.lI)({auxData:null==n?void 0:n.auxData,href:(0,r.Z)(u),pinId:null==n||null===(t=n.pin)||void 0===t?void 0:t.id,pin:null==n?void 0:n.pin,queryParams:null==n?void 0:n.queryParams,location:y,spamCheck:f},p,C):(0,l.G3)({event:e,href:u,history:v,onHistoryChange:h,target:"blank"===d?"blank":null})))}}const h=({children:e,...t})=>e({handleClick:u(t)})},813401:(e,t,n)=>{n.d(t,{kf:()=>m,l5:()=>f,of:()=>d,xC:()=>_,yz:()=>p});var s=n(667294),r=n(172071),a=n(829407),o=n(807609),i=n(30287),l=n(425288),c=n(785893);const{Provider:u,useMaybeHook:h}=(0,l.Z)("PwaContext"),d=({children:e,initialContext:t})=>{const[n,o]=(0,s.useState)(null),l=t||{pwaType:"unknown",twaType:null},h=l.pwaType;(0,a.Z)((()=>{const e=(0,i.FB)(window)||"unknown";o(e),h!==e&&r.Z.increment("pwa.type_mismatch",1,{serverPwaType:h,clientPwaType:e,conflict:"unknown"!==h&&"unknown"!==e})}));const d="unknown"===h&&n?n:h,p=l.twaType,f=(0,s.useMemo)((()=>({pwaType:d,twaType:p})),[d,p]);return(0,c.jsx)(u,{value:f,children:e})},p=()=>{var e;const t=h();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},f=()=>{var e;const t=h();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},_=()=>"android-twa"===p(),m=()=>{const e=p(),t=(0,o.Z)();return"unknown"===e&&t?null:"windows"===e}},864537:(e,t,n)=>{n.d(t,{Jc:()=>i,NO:()=>o,R3:()=>a,ge:()=>u,th:()=>l});var s=n(643913);const r=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],a={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function o(e){return(e||"").trim().replace(/\s+/g," ")}function i({type:e,term:t="",index:n}){switch(e){case a.USER_INPUT:case a.AUTO_COMPLETE_HASHTAG:case a.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case a.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case a.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case a.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case a.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case a.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+(0,s.Z)({term_meta:e.map((e=>i(e)))})}function c(e){if(e){const t=e.trim().split(/\s+/);return t.find((e=>r.includes(e.toLowerCase())))?[e]:t}return[]}function u({type:e,query:t="",index:n}){switch(e){case a.USER_INPUT:case a.AUTO_COMPLETE_HASHTAG:case a.TYPO_AUTO_CORRECT_ORIGINAL:return c(t).map((t=>({index:n,term:t,type:e})));case a.AUTO_COMPLETE_RECENT_SEARCH:case a.AUTO_COMPLETE_RECOMMENDED_SEARCH:case a.AUTO_COMPLETE_TRENDING:case a.AUTO_COMPLETE_DEFAULT:return c(t).map((t=>({term:t,type:e,index:n})));default:return[]}}},250059:(e,t,n)=>{n.d(t,{Z:()=>s});const s=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},149230:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(954931);const r=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,s.Z)(e))},508847:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(567831);const r=(e,t)=>0===e.lastIndexOf(t,0),a=({url:e})=>{const t=(0,s.Z)("/");return r(e,t)?e.substr(t.length-1):e}},807609:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(411465),r=n(966476);const a=()=>{const e=(0,s.Z)(),t=(0,r.Z)();return e&&!t}},307640:(e,t,n)=>{n.d(t,{UP:()=>i,Wv:()=>r,ZF:()=>s,zI:()=>a,zl:()=>o});const s=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],r=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],a=[...r,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],o=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],i=["BaseBoardPinGrid"]},479301:(e,t,n)=>{n.d(t,{i5:()=>E,sX:()=>b,Z5:()=>y,NG:()=>C,MT:()=>w});var s=n(667294),r=n(6637),a=n(802201),o=n(682492),i=n.n(o);const l=(e,t)=>e.data[t]&&e.data[t].messages||[];function c(e,t){const n={};return e.filter((e=>!!e)).reduce(((e,s)=>{const r=t(s);return n[r]?(i()(n[r],s),e):(n[r]=s,e.concat([s]))}),[])}function u(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function h(e,t,n){let s=l(e,t).concat(n);return s=c(s,(e=>e.id)),u(s)}const d={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function p(e=d,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e[n]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const n={...e,data:{...e.data}},{id:s}=t.payload;return delete n.data[s],n}if("FETCH_COMPLETE"===t.type){const{options:n,resource:s,response:r}=t.payload,a=r.resource_response.data;if("ConversationMessagesResource"===s){const t=a||[],s=(null==n?void 0:n.conversation_id)||"",r=h(e,s,t),o=r[r.length-1];return{...e,data:{...e.data,[s]:{...e.data[s],id:s,messages:r,unread:0,last_message:o}}}}if("ConversationsResource"===s){const t=a||[],n={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:s,name:r,board:a,emails:o,unread:i,users:l,last_message:c}=e,u=h(n,t,[c]);n.data[t]={...n.data[t],id:t,created_at:s,name:r,board:a,emails:o||[],unread:i||0,users:l||[],last_message:c,messages:u}})),n}if("ConversationResource"===s){const t=a||{},{id:n}=t,s={...e,data:{...e.data}};return n&&(s.data[n]={...s.data[n],...t}),s}if("NewsHubBadgeResource"===s){if(a){const t=a.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:n,message:s}=t.payload;if(e.data[n]){const t=h(e,n,[s]);return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:t,last_message:s}}}}return e}if("MESSAGE_SEND_PENDING_CLEAR"===t.type){const{id:n,messageId:s,newMessageId:r}=t.payload;if(e.data[n]){const t=l(e,n).find((e=>e.id===s));if(t){const a={...t,id:r};let o=l(e,n).filter((e=>e.id!==s)).concat([a]);return o=c(o,(e=>e.id)),o=u(o),{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:o}}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:n}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:n}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload}}return e}var f=n(425288),_=n(505920),m=n(785893);const g=(()=>{let e=0;return()=>e++})(),{Provider:v,useHook:y}=(0,f.Z)("Conversations");function E({children:e}){const[t,n]=(0,s.useReducer)(p,d),a=(0,s.useCallback)((e=>n({type:"FETCH_COMPLETE",payload:e})),[]);(0,_.Z8)("ConversationMessagesResource",a),(0,_.my)("ConversationMessagesResource",a),(0,_.Z8)("ConversationsResource",a),(0,_.Z8)("ConversationResource",a),(0,_.Z8)("NewsHubBadgeResource",a);const o=(0,s.useCallback)(((e,t=!1,s="")=>n({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:s}})),[]),i=(0,s.useCallback)(((e,t="",s=!1)=>n({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:s}})),[]),l=(0,s.useCallback)((e=>n({type:"CONVERSATION_CREATE",payload:e})),[]),c=(0,s.useCallback)((e=>n({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),u=(0,s.useCallback)(((e,t,s)=>{r.ZP.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;n({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";s(t)}))}),[]),h=(0,s.useCallback)((()=>{n({type:"CLOSE_DROPDOWN"})}),[]),f=(0,s.useCallback)((()=>{n({type:"OPEN_DROPDOWN"})}),[]),g=(0,s.useCallback)((e=>{n({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),y=(0,s.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),E=(0,s.useCallback)(((e,t,s)=>n({type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:t,newMessageId:s}})),[]),C=(0,s.useCallback)((e=>n({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),b=(0,s.useCallback)((e=>n({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),w=(0,s.useMemo)((()=>({conversationOpen:o,conversationClose:i,conversationCreate:l,conversationDelete:c,conversationGet:u,dropdownClose:h,dropdownOpen:f,newMessageOpen:g,pendingMessageSend:y,pendingMessageClear:E,updateNewsHubCount:C,updateUnreadCount:b,conversations:t})),[o,i,l,c,u,h,f,g,y,E,C,b,t]);return(0,m.jsx)(v,{value:w,children:e})}function C(){const{conversations:e,conversationCreate:t,pendingMessageSend:n,pendingMessageClear:s}=y(),o=(0,a.AF)();return(a,i,l,c)=>new Promise(((u,h)=>{const{text:d,pinId:p,boardId:f,userId:_,didItId:m}=i;function v(){const e=r.ZP.create("ConversationMessagesResource",{conversation_id:a,text:d,pin:p,board:f,user:_,user_did_it_data:m,source:l}),t=`${g()}`;n(a,{text:d,sender:c,created_at:(new Date).toString(),created_ms:Date.now(),id:t,board:null,event_type:null,pin:p?o[p]:null,type:"message",user_did_it_data:null,user:null}),e.callCreate().then((e=>{s(a,t,e.resource_response.data.id),u()})).catch(h)}e.data[a]?v():r.ZP.create("ConversationResource",{conversation_id:a}).callGet().then((e=>{const n=e&&e.resource_response&&e.resource_response.data;t(n),v()}))}))}function b(e){const{conversations:t}=y();return t.data[e]}function w(e){const{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}},480622:(e,t,n)=>{n.d(t,{C:()=>l,f:()=>i});var s=n(667294),r=n(425288),a=n(785893);const{Provider:o,useHook:i}=(0,r.Z)("MostRecentPin");function l({children:e}){const[t,n]=(0,s.useState)(),[r,i]=(0,s.useState)(),l=(0,s.useCallback)((e=>{const t=r?r.slice(0,10):[],n=[e].concat(t.filter((t=>t!==e)));i(n)}),[r]),c=(0,s.useMemo)((()=>({id:t,plpImageSignatures:r,setMostRecentPinId:n,setMostRecentPinImage:l})),[t,r,l]);return(0,a.jsx)(o,{value:c,children:e})}},330899:(e,t,n)=>{n.d(t,{x:()=>i,y:()=>l});var s=n(667294),r=n(425288),a=n(785893);const{Provider:o,useMaybeHook:i}=(0,r.Z)("ProfileViewContext");function l({children:e}){const[t,n]=(0,s.useState)(),[r,i]=(0,s.useState)(new Map),[l,c]=(0,s.useState)(),[u,h]=(0,s.useState)(),d=(0,s.useCallback)(((e,t)=>{i(new Map(r.set(e,t)))}),[r]),p=(0,s.useMemo)((()=>({boardPinDensity:t,boardSortOrder:r,profileBoardView:l,profilePinDensity:u,setBoardPinDensity:n,updateBoardSortOrder:d,setProfileBoardView:c,setProfilePinDensity:h})),[t,r,l,u,d]);return(0,a.jsx)(o,{value:p,children:e})}},904411:(e,t,n)=>{n.d(t,{bn:()=>i,fJ:()=>c,gC:()=>l});var s=n(966338),r=n(425288),a=n(785893);const{Provider:o,useHook:i}=(0,r.Z)("Boards");function l(){const e=i();return t=>e[t]}function c({children:e}){const t=(0,s.useSelector)((({boards:e})=>e),s.shallowEqual);return(0,a.jsx)(o,{value:t,children:e})}},711108:(e,t,n)=>{n.d(t,{l:()=>u,E:()=>c});var s=n(667294),r=n(425288);function a(e={},t){if("SUGGESTIONS_FETCH_COMPLETE"===t.type){const{payload:r}=t;if("ShareSuggestionsResource"===r.resource){var n;const s=t.payload.response.resource_response.data||[],{term:a=""}=null!==(n=r.options)&&void 0!==n?n:{};return{...e,[a]:s}}if("ShareSuggestionsTypeaheadResource"===r.resource){var s;const n=(t.payload.response.resource_response.data||{}).items||[],{term:a=""}=null!==(s=r.options)&&void 0!==s?s:{};return{...e,[a]:n}}}return e}var o=n(505920),i=n(785893);const{Provider:l,useHook:c}=(0,r.Z)("ShareSuggestions");function u({children:e}){const[t,n]=(0,s.useReducer)(a,{}),r=e=>{n({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,o.Z8)("ShareSuggestionsResource",r),(0,o.Z8)("ShareSuggestionsTypeaheadResource",r);const c=(0,s.useMemo)((()=>({shareSuggestions:t})),[t]);return(0,i.jsx)(l,{value:c,children:e})}},643074:(e,t,n)=>{n.d(t,{Z:()=>g,s:()=>m});var s=n(667294),r=n(121151),a=n(966113),o=n(608575),i=n(898781),l=n(349700),c=n(883119),u=n(785893);const h=()=>{var e;const t=(0,i.ZP)(),{dismissWarning:n}=null!==(e=m())&&void 0!==e?e:{};return(0,u.jsx)(c.xu,{paddingX:3,children:(0,u.jsx)(c.zx,{fullWidth:!0,color:"red",onClick:n,text:t._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},d=()=>{const e=(0,i.ZP)();return(0,u.jsx)(c.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(c.rU,{target:"blank",href:a.Z.settings.POLICY_COMMUNITY_GUIDELINES_SPAM_AND_QUALITY,inline:!0,underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},p=({message:e,sanitized_url:t})=>{var n;const s=(0,i.ZP)(),{dismissWarning:a}=null!==(n=m())&&void 0!==n?n:{};return(0,u.jsx)(r.ZP,{accessibilityModalLabel:s._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),onDismiss:a,heading:s._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),footer:(0,u.jsx)(h,{}),children:(0,u.jsxs)(c.xu,{padding:6,children:[(0,u.jsx)(c.xv,{children:(0,l.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,u.jsx)(d,{},"learnMoreLink")})}),(0,u.jsxs)(c.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,u.jsx)(c.xu,{marginEnd:3,children:(0,u.jsx)(c.JO,{accessibilityLabel:s._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,u.jsx)(c.xv,{inline:!0,lineClamp:1,weight:"bold",children:o.parse(t).hostname})]})]})})};var f=n(425288);const{Provider:_,useMaybeHook:m}=(0,f.Z)("SpammyClickthrough");function g({children:e}){const[t,n]=(0,s.useState)(null),r=(0,s.useCallback)((()=>{n(null)}),[n]),a=(0,s.useCallback)((e=>{n(e)}),[n]),o=(0,s.useMemo)((()=>({dismissWarning:r,showWarning:a})),[r,a]);return(0,u.jsxs)(_,{value:o,children:[t&&(0,u.jsx)(p,{...t}),e]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/36909-bb42bca7776cbce4.mjs.map